<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Welcome</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
</head>
<body class="site">
<main class="site-content">
  <form action="#" th:action="@{/client}" method="post">
    <h2>Информация о клиенте</h2>
    <input th:if="${client.getId() != null}" style="display: none;" name="clientId" th:value="${client.getId()}">
    <p>
    <label>
      Полное имя:
      <input  class="inputText" th:name="name" th:value="${client.getClientName()}">
    </label>
    </p>
    <p>
    <label>
      Адрес:
      <input class="inputText" th:name="address" th:value="${client.getClientAddress()}">
    </label>
    </p>
    <p>
    <label>
      Телефон:
      <input class="inputText" th:name="phone" th:value="${client.getClientPhone()}">
    </label>
    </p>
    <input type="submit" th:name="update" value="Обновить информацию" class="button">
  </form>
  <div th:if="${client.getId() != null}">
    <h3>Арендованые фильмы:</h3>
    <table>
      <thead>
      <tr>
        <th>
          Название
        </th>
        <th>
          От
        </th>
        <th>
          До
        </th>
      </tr>
      </thead>
      <tbody>
      <tr th:if="${transactions.isEmpty()}">
        <td colspan="3"> Клиент не заказывал фильмов. </td>
      </tr>
      <tr th:each="transaction : ${transactions}">
        <td><a th:text="${transaction.getFilm_title()}"> Название </a></td>
        <td><span th:text="${transaction.getDate_of_lease()}"> От </span></td>
        <td><span th:text="${transaction.getDate_of_return()}"> До </span></td>
      </tr>
      </tbody>
    </table>
    <a id="rent" th:href="${'/transaction?clientId=' + client.getId()}" class="button">Выдать фильм </a>
  </div>
</main>

<footer th:insert="general :: footer"></footer>
</body>

</html>